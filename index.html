<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DoodleClone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <h1>DoodleClone</h1>
        <button id="toggle-theme" aria-label="Toggle dark mode">ðŸŒ™</button>
        <div id="message" role="alert" aria-live="polite" class="hidden"></div>
        <section id="create-section">
            <h2>Create Poll</h2>
            <p id="tz-note-create" class="tz-note"></p>
            <form id="create-form">
                <label>
                    Title:
                    <input type="text" id="title" required>
                </label>
                <label>
                    Description:
                    <textarea id="description"></textarea>
                </label>
                <div id="option-list">
                    <div class="option-row">
                        <input type="datetime-local" class="option-input" required>
                        <button type="button" class="remove-option hidden">âœ•</button>
                    </div>
                </div>
                <button type="button" id="add-option" aria-label="Add option">Add Option</button>
                <label>
                    <input type="checkbox" id="allow-multiple"> Allow multiple selections
                </label>
                <label>
                    Deadline:
                    <input type="datetime-local" id="deadline">
                </label>
                <label>
                    Reminder minutes before deadline:
                    <input type="number" id="reminder" min="1" placeholder="e.g. 60">
                </label>
                <label>
                    Poll time zone:
                    <select id="poll-tz">
                        <option value="">Local</option>
                        <option value="UTC">UTC</option>
                        <option value="America/New_York">America/New_York</option>
                        <option value="Europe/London">Europe/London</option>
                        <option value="Asia/Tokyo">Asia/Tokyo</option>
                    </select>
                </label>
                <button type="submit">Create</button>
            </form>
        </section>
        <section id="poll-section" class="hidden">
            <h2 id="poll-title"></h2>
            <p id="poll-desc"></p>
            <p id="tz-note-view" class="tz-note"></p>
            <label id="display-tz-label" class="hidden">
                Display times in:
                <select id="display-tz"></select>
            </label>
            <form id="vote-form">
                <div id="options-container"></div>
                <label>
                    Your name:
                    <input type="text" id="participant" required>
                </label>
                <button type="submit">Submit Vote</button>
            </form>
            <div id="summary" class="hidden"></div>
            <div id="participants" class="hidden"></div>
            <div id="final-choice" class="hidden"></div>
            <div id="comments" class="hidden"></div>
            <form id="comment-form">
                <label>
                    Name:
                    <input type="text" id="comment-name" required>
                </label>
                <label>
                    Comment:
                    <textarea id="comment-text" required></textarea>
                </label>
                <button type="submit">Post Comment</button>
            </form>
            <button id="export-ics" aria-label="Add event to calendar" class="hidden">Add to Calendar</button>
            <button id="finalize" aria-label="Finalize poll" class="hidden">Finalize Poll</button>
            <button id="edit" aria-label="Edit poll" class="hidden">Edit Poll</button>
            <button id="delete" aria-label="Delete poll" class="hidden">Delete Poll</button>
        </section>
        <div id="share" class="hidden"></div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script type="module">
import { init } from "./script.js";
document.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>
